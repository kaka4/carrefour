"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1471],{1471:(x,p,c)=>{c.r(p),c.d(p,{HomePageModule:()=>b});var d=c(177),g=c(9417),a=c(8974),m=c(7338),u=c(5758),C=c(2140),s=c(9640);const f=(0,s.Mz)(C.w,n=>n.homePage),P=(0,s.Mz)(f,n=>null==n?void 0:n.products),M=(0,s.Mz)(f,n=>null==n?void 0:n.isLoading);var t=c(4438),l=c(8147);function v(n,e){1&n&&(t.j41(0,"span",7),t.EFF(1,"\u2605"),t.k0s()),2&n&&t.AVh("filled",e.$implicit)}let y=(()=>{var n;class e{constructor(){this.addToCart=new t.bkB}get filledStars(){const o=[];for(let i=1;i<=5;i++)o.push(i<=Math.round(this.product.rating.rate));return o}addProductToCart(){this.addToCart.emit(this.product)}}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.VBU({type:n,selectors:[["carrefour-product-card"]],inputs:{product:"product"},outputs:{addToCart:"addToCart"},decls:16,vars:9,consts:[[1,"product-image",3,"alt","src"],[1,"product-title"],[1,"star-rating"],["class","star",3,"filled",4,"ngFor","ngForOf"],[1,"rating-count"],["expand","full",3,"click"],["slot","end","name","cart"],[1,"star"]],template:function(o,i){1&o&&(t.j41(0,"ion-card"),t.nrm(1,"img",0),t.j41(2,"ion-card-header")(3,"ion-card-title",1),t.EFF(4),t.k0s(),t.j41(5,"ion-card-subtitle"),t.EFF(6),t.k0s()(),t.j41(7,"ion-card-content")(8,"div",2),t.DNE(9,v,2,2,"span",3),t.j41(10,"span",4),t.EFF(11),t.k0s()()(),t.j41(12,"ion-button",5),t.bIt("click",function(){return i.addProductToCart()}),t.EFF(13),t.nI1(14,"translate"),t.nrm(15,"ion-icon",6),t.k0s()()),2&o&&(t.R7$(),t.Y8G("alt",i.product.title)("src",i.product.image,t.B4B),t.R7$(3),t.JRh(i.product.title),t.R7$(2),t.JRh(i.product.category),t.R7$(3),t.Y8G("ngForOf",i.filledStars),t.R7$(2),t.SpI("(",i.product.rating.count,")"),t.R7$(2),t.SpI(" ",t.bMT(14,7,"homePage.product.addToCart")," "))},dependencies:[d.Sq,a.Jm,a.b_,a.I9,a.ME,a.HW,a.tN,a.iq,l.D9],styles:["[_nghost-%COMP%]{display:block;height:400px;width:400px}.product-image[_ngcontent-%COMP%]{height:200px;width:100%;padding:5px;object-fit:contain}.product-title[_ngcontent-%COMP%]{font-size:16px;height:40px}.description[_ngcontent-%COMP%]{max-height:50px;overflow:hidden}.star-rating[_ngcontent-%COMP%]{font-size:18px}.star-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{color:#ccc}.star-rating[_ngcontent-%COMP%]   .star.filled[_ngcontent-%COMP%]{color:#fb0}.star-rating[_ngcontent-%COMP%]   .rating-count[_ngcontent-%COMP%]{font-size:13px;margin-left:10px}"]}),e})();function T(n,e){1&n&&t.nrm(0,"ion-spinner")}function F(n,e){if(1&n){const r=t.RV6();t.j41(0,"carrefour-product-card",10),t.bIt("addToCart",function(i){t.eBV(r);const h=t.XpG();return t.Njj(h.addProductToCart(i))}),t.k0s()}2&n&&t.Y8G("product",e.$implicit)}const j=[{path:"",component:(()=>{var n;class e{constructor(o){this.store=o,this.allProducts$=this.store.select(P),this.isLoading$=this.store.select(M)}ngOnInit(){this.store.dispatch(u.yE.getAllProductsAtInit())}ngOnDestroy(){this.store.dispatch(u.yE.clearAllProductsAtDestroy())}addProductToCart(o){this.store.dispatch(u.yE.addProductToCart({product:{id:o.id,category:o.category,title:o.title,image:o.image,price:o.price}}))}}return(n=e).\u0275fac=function(o){return new(o||n)(t.rXU(s.il))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-folder"]],decls:18,vars:10,consts:[[3,"translucent"],["slot","start"],[1,"ion-padding"],["id","container"],[1,"banner-container"],["alt","home page banner","src","../../../assets/img/home-banner.jpg",1,"banner-img"],[1,"catchphrase"],[1,"product-container"],[4,"ngIf"],[3,"product","addToCart",4,"ngFor","ngForOf"],[3,"addToCart","product"]],template:function(o,i){1&o&&(t.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t.nrm(3,"ion-menu-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()(),t.j41(7,"ion-content",2)(8,"div",3)(9,"div",4),t.nrm(10,"img",5),t.j41(11,"h2",6),t.EFF(12,"Carrefour Home - Simplicit\xe9 en 1 clic."),t.k0s()(),t.j41(13,"div",7),t.DNE(14,T,1,0,"ion-spinner",8),t.nI1(15,"async"),t.DNE(16,F,1,1,"carrefour-product-card",9),t.nI1(17,"async"),t.k0s()()()),2&o&&(t.Y8G("translucent",!0),t.R7$(5),t.JRh(t.bMT(6,4,"homePage.title")),t.R7$(9),t.Y8G("ngIf",t.bMT(15,6,i.isLoading$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(17,8,i.allProducts$)))},dependencies:[d.Sq,d.bT,a.QW,a.W9,a.eU,a.MC,a.w2,a.BC,a.ai,y,d.Jj,l.D9],styles:[".banner-container[_ngcontent-%COMP%]{display:flex;position:relative}.banner-img[_ngcontent-%COMP%]{max-height:30vh;width:98%;object-fit:cover;margin:10px;border-radius:15px}.catchphrase[_ngcontent-%COMP%]{width:50%;position:absolute;top:0;margin-left:30px;margin-top:40px}.product-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;row-gap:10px}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:40px}"]}),e})()}];let H=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[m.iI.forChild(j),m.iI]}),e})(),O=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,g.YN,a.bv,l.h]}),e})(),b=(()=>{var n;class e{}return(n=e).\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[d.MD,g.YN,a.bv,H,l.h,O]}),e})()}}]);