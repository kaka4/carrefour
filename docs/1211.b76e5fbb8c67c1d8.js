"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1211],{1211:(O,u,n)=>{n.r(u),n.d(u,{HomePageModule:()=>x});var l=n(177),v=n(9417),s=n(8974),p=n(7338),g=n(3078),M=n(2140),c=n(9640);const m=(0,c.Mz)(M.w,t=>t.homePage),f=(0,c.Mz)(m,t=>null==t?void 0:t.products),H=(0,c.Mz)(m,t=>null==t?void 0:t.isLoading);var e=n(4438),y=n(6071),T=n(7789),h=n(8147);const b=()=>({lower:"0",upper:"100"});function I(t,a){1&t&&e.nrm(0,"ion-spinner")}function F(t,a){if(1&t){const r=e.RV6();e.j41(0,"carrefour-product-card",9),e.bIt("addToCart",function(i){e.eBV(r);const P=e.XpG();return e.Njj(P.addProductToCart(i))}),e.k0s()}2&t&&e.Y8G("product",a.$implicit)}const $=[{path:"",component:(()=>{var t;class a{constructor(o){this.store=o,this.products$=this.store.select(f),this.isLoading$=this.store.select(H)}ngOnInit(){this.store.dispatch(g.yE.getAllProductsAtInit())}addProductToCart(o){this.store.dispatch(g.yE.addProductToCart({product:{id:o.id,category:o.category,title:o.title,image:o.image,price:o.price}}))}priceFilterChanged(o){"number"!=typeof o.detail.value&&(this.products$=this.store.select(((t,a)=>(0,c.Mz)(f,r=>null==r?void 0:r.filter(o=>o.price>=t&&o.price<=a).sort((o,i)=>o.price-i.price)))(10*o.detail.value.lower,10*o.detail.value.upper)))}pinFormatter(o){return"$"+10*o}}return(t=a).\u0275fac=function(o){return new(o||t)(e.rXU(c.il))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-folder"]],decls:16,vars:20,consts:[[3,"title"],[1,"ion-padding"],["id","container"],[1,"banner-container"],["alt","home page banner","src","assets/img/home-banner.jpg",1,"banner-img"],["aria-label","price filter","labelPlacement","start",3,"ionChange","label","pin","pinFormatter","dualKnobs","value"],[1,"product-container"],[4,"ngIf"],[3,"product","addToCart",4,"ngFor","ngForOf"],[3,"addToCart","product"]],template:function(o,i){1&o&&(e.nrm(0,"carrefour-mobile-header",0),e.nI1(1,"translate"),e.j41(2,"ion-content",1)(3,"div",2)(4,"div",3),e.nrm(5,"img",4),e.k0s(),e.j41(6,"h1"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"ion-range",5),e.nI1(10,"translate"),e.bIt("ionChange",function(G){return i.priceFilterChanged(G)}),e.k0s(),e.j41(11,"div",6),e.DNE(12,I,1,0,"ion-spinner",7),e.nI1(13,"async"),e.DNE(14,F,1,1,"carrefour-product-card",8),e.nI1(15,"async"),e.k0s()()()),2&o&&(e.Y8G("title",e.bMT(1,9,"homePage.title")),e.R7$(7),e.JRh(e.bMT(8,11,"homePage.subtitle")),e.R7$(2),e.Y8G("label",e.bMT(10,13,"homePage.priceFilter"))("pin",!0)("pinFormatter",i.pinFormatter)("dualKnobs",!0)("value",e.lJ4(19,b)),e.R7$(3),e.Y8G("ngIf",e.bMT(13,15,i.isLoading$)),e.R7$(2),e.Y8G("ngForOf",e.bMT(15,17,i.products$)))},dependencies:[l.Sq,l.bT,s.W9,s.Ob,s.w2,s.Gw,y.V,T.f,l.Jj,h.D9],styles:[".banner-container[_ngcontent-%COMP%]{display:flex;position:relative}.banner-img[_ngcontent-%COMP%]{max-height:30vh;width:98%;object-fit:cover;margin:10px;border-radius:15px}.product-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;row-gap:10px}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:40px}"]}),a})()}];let j=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.iI.forChild($),p.iI]}),a})();var R=n(3887);let x=(()=>{var t;class a{}return(t=a).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[l.MD,v.YN,s.bv,j,h.h,R.G]}),a})()}}]);