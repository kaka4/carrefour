"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1022],{1022:(x,u,e)=>{e.r(u),e.d(u,{CategoryPageModule:()=>G});var i=e(177),C=e(9417),g=e(8974),l=e(7338),f=e(8359),m=e(2140),d=e(9640);const p=(0,d.Mz)(m.w,o=>o.categoryPage),h=(0,d.Mz)(p,o=>null==o?void 0:o.products),v=(0,d.Mz)(p,o=>null==o?void 0:o.isLoading);var y=e(3078),t=e(4438),P=e(6071),M=e(7789);function I(o,a){1&o&&t.nrm(0,"ion-spinner")}function T(o,a){if(1&o){const n=t.RV6();t.j41(0,"carrefour-product-card",6),t.bIt("addToCart",function(s){t.eBV(n);const c=t.XpG();return t.Njj(c.addProductToCart(s))}),t.k0s()}2&o&&t.Y8G("product",a.$implicit)}const F=[{path:":categoryId",component:(()=>{var o;class a{constructor(r,s){this.route=r,this.store=s,this.products$=this.store.select(h),this.isLoading$=this.store.select(v),this.subscription=new f.yU}ngOnInit(){this.subscription.add(this.route.paramMap.subscribe(r=>{this.categoryId=r.get("categoryId"),this.categoryId&&this.store.dispatch(y.li.getAllProductsFromCategory({categoryId:this.categoryId}))}))}ngOnDestroy(){this.subscription.unsubscribe()}addProductToCart(r){this.store.dispatch(y.li.addProductToCart({product:{id:r.id,category:r.category,title:r.title,image:r.image,price:r.price}}))}}return(o=a).\u0275fac=function(r){return new(r||o)(t.rXU(l.nX),t.rXU(d.il))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-category"]],decls:12,vars:12,consts:[[3,"title"],[1,"ion-padding"],[1,"container"],[1,"product-container"],[4,"ngIf"],[3,"product","addToCart",4,"ngFor","ngForOf"],[3,"addToCart","product"]],template:function(r,s){if(1&r&&(t.nrm(0,"carrefour-mobile-header",0),t.nI1(1,"titlecase"),t.j41(2,"ion-content",1)(3,"div",2)(4,"h1"),t.EFF(5),t.nI1(6,"titlecase"),t.k0s(),t.j41(7,"div",3),t.DNE(8,I,1,0,"ion-spinner",4),t.nI1(9,"async"),t.DNE(10,T,1,1,"carrefour-product-card",5),t.nI1(11,"async"),t.k0s()()()),2&r){let c;t.Y8G("title",t.bMT(1,4,null!==(c=s.categoryId)&&void 0!==c?c:"")),t.R7$(5),t.JRh(t.bMT(6,6,s.categoryId)),t.R7$(3),t.Y8G("ngIf",t.bMT(9,8,s.isLoading$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(11,10,s.products$))}},dependencies:[i.Sq,i.bT,g.W9,g.w2,P.V,M.f,i.Jj,i.PV],styles:[".product-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;row-gap:10px}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;margin-top:40px}"]}),a})()}];let $=(()=>{var o;class a{}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[l.iI.forChild(F),l.iI]}),a})();var j=e(3887),R=e(8147);let G=(()=>{var o;class a{}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({imports:[i.MD,C.YN,g.bv,$,j.G,R.h]}),a})()}}]);